# DeepSeek & Dify連携ガイド：多段階推論を活用したAIアプリケーション構築

## 概要

オープンソースの生成AIアプリケーション開発プラットフォームである**Dify**は、開発者がDeepSeek LLMを活用し、より高度なAIアプリケーションを構築することを支援します。Difyプラットフォームは、以下の主要な開発体験を提供します。

* **視覚的な開発** - 直感的なビジュアルオーケストレーションにより、DeepSeek R1を搭載したAIアプリケーションをわずか3分で作成
* **知識ベースの拡張** - 内部ドキュメントを連携させてRAG機能を有効化し、高精度なQ&Aシステムを構築
* **ワークフローの拡張** - ドラッグアンドドロップ操作による機能ノードと、サードパーティ製ツールプラグインを介して、複雑なビジネスロジックを実装
* **データ分析** - 総会話数、ユーザーエンゲージメントなどの組み込みメトリクスに加え、専門的な監視プラットフォームとの連携をサポート
...

このガイドでは、DeepSeek APIとDifyの連携について、以下の2つの主要な実装を達成するための詳細を説明します。

* **インテリジェントチャットボットの開発** - DeepSeek R1の連鎖的思考（chain-of-thought）推論機能を直接活用
* **知識強化型アプリケーションの構築** - プライベートな知識ベースを利用して、正確な情報検索と生成を実現

> 金融や法律など、コンプライアンスが重視される業界向けに、Difyは **[DeepSeek + Difyのプライベートデプロイ：独自のAIアシスタントを構築](./private-ai-ollama-deepseek-dify.md)** を提供しています。
> * DeepSeekモデルとDifyプラットフォームをプライベートネットワークに同期デプロイ
> * 完全なデータ主権を保証

DifyとDeepSeekの連携により、開発者はインフラの複雑さを気にすることなく、**シナリオに基づいたAIの実装**に直接取り組むことができ、LLM技術の運用生産性への転換を加速させます。

---

## 前提条件

### 1. DeepSeek APIキーの取得

[DeepSeek APIプラットフォーム](https://platform.deepseek.com/)にアクセスし、指示に従ってAPIキーをリクエストしてください。

> 上記リンクにアクセスできない場合は、DeepSeekのローカルデプロイをご検討ください。詳細については、[ローカルデプロイガイド](./private-ai-ollama-deepseek-dify.md)を参照してください。

### 2. Difyへの登録

Difyは、生成AIアプリケーションを迅速に構築するためのプラットフォームです。DeepSeekのAPIを統合することで、DeepSeekを搭載した高機能なAIアプリを簡単に作成できます。

---

## 連携手順

### 1. DeepSeekをDifyに接続

Difyプラットフォームにアクセスし、**プロファイル → 設定 → モデルプロバイダー** に移動します。DeepSeekを見つけ、事前に取得したAPIキーを貼り付け、**保存** をクリックします。検証が完了すると、成功メッセージが表示されます。

![](https://assets-docs.dify.ai/2025/01/a7d6b4e05a3c9d85d0cb42f4dd018bc8.png)

---

### 2. DeepSeek AIアプリケーションの作成

1. Difyのホームページで、左側のサイドバーにある **空白アプリを作成** をクリックし、**チャットボット** を選択します。任意の名前を設定します。

![](https://assets-docs.dify.ai/2025/01/7f56bc3c836c7248043b656fa95e474e.png)

2. `deepseek-reasoner` モデルを選択します。

> `deepseek-reasoner` モデルは、`deepseek-r1` モデルとも呼ばれます。

![](https://assets-docs.dify.ai/2025/01/de134c6285985fe1552223eb33641b9f.png)

設定が完了すると、チャットボットとの対話を開始できます。

![](https://assets-docs.dify.ai/2025/01/3760e9a0cb7c2070978134d8f7f13929.png)

---

### 3. 知識ベースによるテキスト分析の有効化

[検索拡張生成（RAG）](https://docs.dify.ai/ja-jp/learn-more/extended-reading/retrieval-augment) は、関連する知識を検索することでAIの応答を強化する高度な手法です。モデルに必要なコンテキスト情報を提供することで、応答の精度と関連性が向上します。内部ドキュメントや特定の分野の資料をアップロードすると、AIはこの知識に基づいて、より情報に基づいた回答を生成できます。

#### 3.1 知識ベースの作成

AIに分析させたい情報を含むドキュメントをアップロードします。DeepSeekがドキュメントの内容を正確に理解できるように、**親子分割**モードを使用することを推奨します。これにより、ドキュメントの階層構造とコンテキストが保持されます。詳細な手順については、[知識ベースの作成](https://docs.dify.ai/ja-jp/guides/knowledge-base/create-knowledge-and-upload-documents) を参照してください。

![](https://assets-docs.dify.ai/2025/01/f38af53d2b124391e2ea32f29da7d87d.png)

#### 3.2 AIアプリへの知識ベースの統合

AIアプリの **コンテキスト** 設定で、作成した知識ベースを追加します。ユーザーが質問すると、LLMは応答を生成する前に、まず知識ベースから関連情報を取得します。

![](https://assets-docs.dify.ai/2025/01/4254ec131fece172a59304414a060f4e.png)

---

### 4. AIアプリケーションの共有

構築が完了したら、AIアプリケーションを他のユーザーと共有したり、他のWebサイトに組み込んだりできます。

![](https://assets-docs.dify.ai/2025/01/d32857964683b48027d20d029e7e06c0.png)

---

## 参考資料

シンプルなチャットボットアプリケーション以外にも、チャットフローとワークフローを使用して、文書認識、画像処理、音声認識などの機能を備えた、より複雑なAIソリューションを構築できます。詳細については、以下の資料を参照してください。

* [ワークフロー](../../guides/workflow)
* [ファイルのアップロード](../../guides/workflow/file-upload)
* [DeepSeek + DifyをローカルにデプロイしてプライベートAIアシスタントを構築](./private-ai-ollama-deepseek-dify.md)